Backbone.ChildViewContainer=function(n,t){var i=function(n){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(n,this.add,this)},r;return t.extend(i.prototype,{add:function(n,t){var i=n.cid;this._views[i]=n,n.model&&(this._indexByModel[n.model.cid]=i),t&&(this._indexByCustom[t]=i),this._updateLength()},findByModel:function(n){return this.findByModelCid(n.cid)},findByModelCid:function(n){var t=this._indexByModel[n];return this.findByCid(t)},findByCustom:function(n){var t=this._indexByCustom[n];return this.findByCid(t)},findByIndex:function(n){return t.values(this._views)[n]},findByCid:function(n){return this._views[n]},remove:function(n){var i=n.cid;n.model&&delete this._indexByModel[n.model.cid],t.any(this._indexByCustom,function(n,t){if(n===i)return delete this._indexByCustom[t],!0},this),delete this._views[i],this._updateLength()},call:function(n){this.apply(n,t.tail(arguments))},apply:function(n,i){t.each(this._views,function(r){t.isFunction(r[n])&&r[n].apply(r,i||[])})},_updateLength:function(){this.length=t.size(this._views)}}),r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],t.each(r,function(n){i.prototype[n]=function(){var i=t.values(this._views),r=[i].concat(t.toArray(arguments));return t[n].apply(t,r)}}),i}(Backbone,_),Backbone.Wreqr=function(n,t,i){"use strict";var r={};return r.Handlers=function(n,t){var i=function(n){this.options=n,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(n)};return i.extend=n.Model.extend,t.extend(i.prototype,n.Events,{setHandlers:function(n){t.each(n,function(n,i){var r=null;t.isObject(n)&&!t.isFunction(n)&&(r=n.context,n=n.callback),this.setHandler(i,n,r)},this)},setHandler:function(n,t,i){var r={callback:t,context:i};this._wreqrHandlers[n]=r,this.trigger("handler:add",n,t,i)},hasHandler:function(n){return!!this._wreqrHandlers[n]},getHandler:function(n){var t=this._wreqrHandlers[n];if(!t)throw new Error("Handler not found for '"+n+"'");return function(){var n=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,n)}},removeHandler:function(n){delete this._wreqrHandlers[n]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(n,i),r.CommandStorage=function(){var t=function(n){this.options=n,this._commands={},i.isFunction(this.initialize)&&this.initialize(n)};return i.extend(t.prototype,n.Events,{getCommands:function(n){var t=this._commands[n];return t||(t={command:n,instances:[]},this._commands[n]=t),t},addCommand:function(n,t){var i=this.getCommands(n);i.instances.push(t)},clearCommands:function(n){var t=this.getCommands(n);t.instances=[]}}),t}(),r.Commands=function(n){return n.Handlers.extend({storageType:n.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var i=Array.prototype.slice.call(arguments);n.Handlers.prototype.constructor.apply(this,i)},execute:function(n,t){n=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(n)?this.getHandler(n).apply(this,t):this.storage.addCommand(n,t)},_executeCommands:function(n,t,r){var u=this.storage.getCommands(n);i.each(u.instances,function(n){t.apply(r,n)}),this.storage.clearCommands(n)},_initializeStorage:function(n){var r,t=n.storageType||this.storageType;r=i.isFunction(t)?new t:t,this.storage=r}})}(r),r.RequestResponse=function(n){return n.Handlers.extend({request:function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.getHandler(n).apply(this,t)}})}(r),r.EventAggregator=function(n,t){var i=function(){};return i.extend=n.Model.extend,t.extend(i.prototype,n.Events),i}(n,i),r}(Backbone,Backbone.Marionette,_);var Marionette=function(n,t,i){"use strict";function u(n){return e.call(n)}function f(n,t){var i=new Error(n);i.name=t||"Error";throw i;}var r={},e;return t.Marionette=r,r.$=t.$,e=Array.prototype.slice,r.extend=t.Model.extend,r.getOption=function(n,t){if(n&&t)return n.options&&t in n.options&&n.options[t]!==undefined?n.options[t]:n[t]},r.triggerMethod=function(){function t(n,t,i){return i.toUpperCase()}var n=/(^|:)(\w)/gi;return function(r){var f="on"+r.replace(n,t),u=this[f];return i.isFunction(this.trigger)&&this.trigger.apply(this,arguments),i.isFunction(u)?u.apply(this,i.tail(arguments)):void 0}}(),r.MonitorDOMRefresh=function(){function t(t){t._isShown=!0,n(t)}function r(t){t._isRendered=!0,n(t)}function n(n){n._isShown&&n._isRendered&&i.isFunction(n.triggerMethod)&&n.triggerMethod("dom:refresh")}return function(n){n.listenTo(n,"show",function(){t(n)}),n.listenTo(n,"render",function(){r(n)})}}(),function(n){function r(n,t,r,u){var e=u.split(/\s+/);i.each(e,function(i){var u=n[i];u||f("Method '"+i+"' was configured as an event handler, but does not exist."),n.listenTo(t,r,u,n)})}function u(n,t,i,r){n.listenTo(t,i,r,n)}function e(n,t,r,u){var f=u.split(/\s+/);i.each(f,function(i){var u=n[i];n.stopListening(t,r,u,n)})}function o(n,t,i,r){n.stopListening(t,i,r,n)}function t(n,t,r,u,f){t&&r&&(i.isFunction(r)&&(r=r.call(n)),i.each(r,function(r,e){i.isFunction(r)?u(n,t,e,r):f(n,t,e,r)}))}n.bindEntityEvents=function(n,i,f){t(n,i,f,u,r)},n.unbindEntityEvents=function(n,i,r){t(n,i,r,o,e)}}(r),r.Callbacks=function(){this._deferred=r.$.Deferred(),this._callbacks=[]},i.extend(r.Callbacks.prototype,{add:function(n,t){this._callbacks.push({cb:n,ctx:t}),this._deferred.done(function(i,r){t&&(i=t),n.call(i,r)})},run:function(n,t){this._deferred.resolve(t,n)},reset:function(){var n=this._callbacks;this._deferred=r.$.Deferred(),this._callbacks=[],i.each(n,function(n){this.add(n.cb,n.ctx)},this)}}),r.Controller=function(n){this.triggerMethod=r.triggerMethod,this.options=n||{},i.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,i.extend(r.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),r.Region=function(n){var t,i;if(this.options=n||{},this.el=r.getOption(this,"el"),!this.el){t=new Error("An 'el' must be specified for a region."),t.name="NoElError";throw t;}this.initialize&&(i=Array.prototype.slice.apply(arguments),this.initialize.apply(this,i))},i.extend(r.Region,{buildRegion:function(n,t){var o=typeof n=="string",s=typeof n.selector=="string",h=typeof n.regionType=="undefined",u=typeof n=="function",f,r,e;if(!u&&!o&&!s)throw new Error("Region must be specified as a Region type, a selector string or an object with selector property");return o&&(f=n),n.selector&&(f=n.selector),u&&(r=n),!u&&h&&(r=t),n.regionType&&(r=n.regionType),e=new r({el:f}),n.parentEl&&(e.getEl=function(t){var r=n.parentEl;return i.isFunction(r)&&(r=r()),r.find(t)}),e}}),i.extend(r.Region.prototype,t.Events,{show:function(n){this.ensureEl();var u=n.isClosed||i.isUndefined(n.$el),t=n!==this.currentView;t&&this.close(),n.render(),(t||u)&&this.open(n),this.currentView=n,r.triggerMethod.call(this,"show",n),r.triggerMethod.call(n,"show")},ensureEl:function(){this.$el&&this.$el.length!==0||(this.$el=this.getEl(this.el))},getEl:function(n){return r.$(n)},open:function(n){this.$el.empty().append(n.el)},close:function(){var n=this.currentView;n&&!n.isClosed&&(n.close?n.close():n.remove&&n.remove(),r.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(n){this.currentView=n},reset:function(){this.close(),delete this.$el}}),r.Region.extend=r.extend,r.RegionManager=function(n){var t=n.Controller.extend({constructor:function(t){this._regions={},n.Controller.prototype.constructor.call(this,t)},addRegions:function(n,t){var r={};return i.each(n,function(n,u){typeof n=="string"&&(n={selector:n}),n.selector&&(n=i.defaults({},n,t));var f=this.addRegion(u,n);r[u]=f},this),r},addRegion:function(t,r){var u,f=i.isObject(r),e=i.isString(r),o=!!r.selector;return u=e||f&&o?n.Region.buildRegion(r,n.Region):i.isFunction(r)?n.Region.buildRegion(r,n.Region):r,this._store(t,u),this.triggerMethod("region:add",t,u),u},get:function(n){return this._regions[n]},removeRegion:function(n){var t=this._regions[n];this._remove(n,t)},removeRegions:function(){i.each(this._regions,function(n,t){this._remove(t,n)},this)},closeRegions:function(){i.each(this._regions,function(n){n.close()},this)},close:function(){this.removeRegions();var t=Array.prototype.slice.call(arguments);n.Controller.prototype.close.apply(this,t)},_store:function(n,t){this._regions[n]=t,this._setLength()},_remove:function(n,t){t.close(),delete this._regions[n],this._setLength(),this.triggerMethod("region:remove",n,t)},_setLength:function(){this.length=i.size(this._regions)}});return i.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],function(n){t.prototype[n]=function(){var t=i.values(this._regions),r=[t].concat(i.toArray(arguments));return i[n].apply(i,r)}}),t}(r),r.TemplateCache=function(n){this.templateId=n},i.extend(r.TemplateCache,{templateCaches:{},get:function(n){var t=this.templateCaches[n];return t||(t=new r.TemplateCache(n),this.templateCaches[n]=t),t.load()},clear:function(){var n,t=u(arguments),i=t.length;if(i>0)for(n=0;n<i;n++)delete this.templateCaches[t[n]];else this.templateCaches={}}}),i.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var n=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(n),this.compiledTemplate},loadTemplate:function(n){var t=i.unescape(r.$(n).html());return t&&t.length!==0||f("Could not find template: '"+n+"'","NoTemplateError"),t},compileTemplate:function(n){return i.template(n)}}),r.Renderer={render:function(n,t){var i,u;if(!n){i=new Error("Cannot render the template since it's false, null or undefined."),i.name="TemplateNotFoundError";throw i;}return u=typeof n=="function"?n:r.TemplateCache.get(n),u(t)}},r.View=t.View.extend({constructor:function(){i.bindAll(this,"render");var n=Array.prototype.slice.apply(arguments);t.View.prototype.constructor.apply(this,n),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:r.triggerMethod,getTemplate:function(){return r.getOption(this,"template")},mixinTemplateHelpers:function(n){n=n||{};var t=r.getOption(this,"templateHelpers");return i.isFunction(t)&&(t=t.call(this)),i.extend(n,t)},configureTriggers:function(){if(this.triggers){var n={},t=i.result(this,"triggers");return i.each(t,function(t,i){n[i]=function(n){n&&n.preventDefault&&n.preventDefault(),n&&n.stopPropagation&&n.stopPropagation();var i={view:this,model:this.model,collection:this.collection};this.triggerMethod(t,i)}},this),n}},delegateEvents:function(n){this._delegateDOMEvents(n),r.bindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.bindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(n){n=n||this.events,i.isFunction(n)&&(n=n.call(this));var r={},u=this.configureTriggers();i.extend(r,n,u),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var n=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,n),r.unbindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.unbindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var n=this.triggerMethod("before:close");n!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var n=i.result(this,"_uiBindings");this.ui={},i.each(i.keys(n),function(t){var i=n[t];this.ui[t]=this.$(i)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,function(n,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),r.ItemView=r.View.extend({constructor:function(){r.View.prototype.constructor.apply(this,u(arguments))},serializeData:function(){var n={};return this.model?n=this.model.toJSON():this.collection&&(n={items:this.collection.toJSON()}),n},render:function(){var n,t,i;return this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this),n=this.serializeData(),n=this.mixinTemplateHelpers(n),t=this.getTemplate(),i=r.Renderer.render(t,n),this.$el.html(i),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),r.View.prototype.close.apply(this,u(arguments)),this.triggerMethod("item:closed"))}}),r.CollectionView=r.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),r.View.prototype.constructor.apply(this,u(arguments)),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(n){this.closeEmptyView();var t=this.getItemView(n),i=this.collection.indexOf(n);this.addItemView(n,t,i)},onShowCalled:function(){this.children.each(function(n){r.triggerMethod.call(n,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView()},showCollection:function(){var n;this.collection.each(function(t,i){n=this.getItemView(t),this.addItemView(t,n,i)},this)},showEmptyView:function(){var n=r.getOption(this,"emptyView"),i;n&&!this._showingEmptyView&&(this._showingEmptyView=!0,i=new t.Model,this.addItemView(i,n,0))},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var n=r.getOption(this,"itemView");return n||f("An `itemView` must be specified","NoItemViewError"),n},addItemView:function(n,t,u){var e=r.getOption(this,"itemViewOptions"),f;i.isFunction(e)&&(e=e.call(this,n,u)),f=this.buildItemView(n,t,e),this.addChildViewEventForwarding(f),this.triggerMethod("before:item:added",f),this.children.add(f),this.renderItemView(f,u),this._isShown&&r.triggerMethod.call(f,"show"),this.triggerMethod("after:item:added",f)},addChildViewEventForwarding:function(n){var t=r.getOption(this,"itemViewEventPrefix");this.listenTo(n,"all",function(){var i=u(arguments);i[0]=t+":"+i[0],i.splice(1,0,n),r.triggerMethod.apply(this,i)},this)},renderItemView:function(n,t){n.render(),this.appendHtml(this,n,t)},buildItemView:function(n,t,r){var u=i.extend({model:n},r);return new t(u)},removeItemView:function(n){var t=this.children.findByModel(n);this.removeChildView(t),this.checkEmpty()},removeChildView:function(n){n&&(this.stopListening(n),n.close?n.close():n.remove&&n.remove(),this.children.remove(n)),this.triggerMethod("item:removed",n)},checkEmpty:function(){this.collection&&this.collection.length!==0||this.showEmptyView()},appendHtml:function(n,t){n.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),r.View.prototype.close.apply(this,u(arguments)))},closeChildren:function(){this.children.each(function(n){this.removeChildView(n)},this),this.checkEmpty()}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.prototype.constructor.apply(this,u(arguments))},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var n=r.getOption(this,"itemView")||this.constructor;return n||f("An `itemView` must be specified","NoItemViewError"),n},serializeData:function(){var n={};return this.model&&(n=this.model.toJSON()),n},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var n=this.renderModel();return this.$el.html(n),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(r.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var n={},t;return n=this.serializeData(),n=this.mixinTemplateHelpers(n),t=this.getTemplate(),r.Renderer.render(t,n)},appendHtml:function(n,t){var i=this.getItemViewContainer(n);i.append(t.el)},getItemViewContainer:function(n){var t,u,e;return"$itemViewContainer"in n?n.$itemViewContainer:(u=r.getOption(n,"itemViewContainer"),u?(e=i.isFunction(u)?u():u,t=n.$(e),t.length<=0&&f("The specified `itemViewContainer` was not found: "+n.itemViewContainer,"ItemViewContainerMissingError")):t=n.$el,n.$itemViewContainer=t,t)},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),r.Layout=r.ItemView.extend({regionType:r.Region,constructor:function(n){n=n||{},this._firstRender=!0,this._initializeRegions(n),r.ItemView.prototype.constructor.call(this,n)},render:function(){this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var n=Array.prototype.slice.apply(arguments);return r.ItemView.prototype.render.apply(this,n)},close:function(){if(!this.isClosed){this.regionManager.close();var n=Array.prototype.slice.apply(arguments);r.ItemView.prototype.close.apply(this,n)}},addRegion:function(n,t){var i={};return i[n]=t,this._buildRegions(i)[n]},addRegions:function(n){return this.regions=i.extend({},this.regions,n),this._buildRegions(n)},removeRegion:function(n){return delete this.regions[n],this.regionManager.removeRegion(n)},_buildRegions:function(n){var t=this,i={regionType:r.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(n,i)},_initializeRegions:function(n){var t;this._initRegionManager(),t=i.isFunction(this.regions)?this.regions(n):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(n){n.reset()})},_initRegionManager:function(){this.regionManager=new r.RegionManager,this.listenTo(this.regionManager,"region:add",function(n,t){this[n]=t,this.trigger("region:add",n,t)}),this.listenTo(this.regionManager,"region:remove",function(n,t){delete this[n],this.trigger("region:remove",n,t)})}}),r.AppRouter=t.Router.extend({constructor:function(n){t.Router.prototype.constructor.apply(this,u(arguments)),this.options=n||{};var i=r.getOption(this,"appRoutes"),f=this._getController();this.processAppRoutes(f,i)},appRoute:function(n,t){var i=this._getController();this._addAppRoute(i,n,t)},processAppRoutes:function(n,t){if(t){var r=i.keys(t).reverse();i.each(r,function(i){this._addAppRoute(n,i,t[i])},this)}},_getController:function(){return r.getOption(this,"controller")},_addAppRoute:function(n,t,r){var u=n[r];if(!u)throw new Error("Method '"+r+"' was not found on the controller");this.route(t,r,i.bind(u,n))}}),r.Application=function(n){this._initRegionManager(),this._initCallbacks=new r.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},i.extend(this,n),this.triggerMethod=r.triggerMethod},i.extend(r.Application.prototype,t.Events,{execute:function(){var n=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,n)},request:function(){var n=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,n)},addInitializer:function(n){this._initCallbacks.add(n)},start:function(n){this.triggerMethod("initialize:before",n),this._initCallbacks.run(n,this),this.triggerMethod("initialize:after",n),this.triggerMethod("start",n)},addRegions:function(n){return this._regionManager.addRegions(n)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(n){this._regionManager.removeRegion(n)},getRegion:function(n){return this._regionManager.get(n)},module:function(){var n=u(arguments);return n.unshift(this),r.Module.create.apply(r.Module,n)},_initRegionManager:function(){this._regionManager=new r.RegionManager,this.listenTo(this._regionManager,"region:add",function(n,t){this[n]=t}),this.listenTo(this._regionManager,"region:remove",function(n){delete this[n]})}}),r.Application.extend=r.extend,r.Module=function(n,t){this.moduleName=n,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=r.triggerMethod},i.extend(r.Module.prototype,t.Events,{addInitializer:function(n){this._initializerCallbacks.add(n)},addFinalizer:function(n){this._finalizerCallbacks.add(n)},start:function(n){this._isInitialized||(i.each(this.submodules,function(t){t.startWithParent&&t.start(n)}),this.triggerMethod("before:start",n),this._initializerCallbacks.run(n,this),this._isInitialized=!0,this.triggerMethod("start",n))},stop:function(){this._isInitialized&&(this._isInitialized=!1,r.triggerMethod.call(this,"before:stop"),i.each(this.submodules,function(n){n.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),r.triggerMethod.call(this,"stop"))},addDefinition:function(n,t){this._runModuleDefinition(n,t)},_runModuleDefinition:function(n,u){if(n){var f=i.flatten([this,this.app,t,r,r.$,i,u]);n.apply(this,f)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks}}),i.extend(r.Module,{create:function(n,t,r){var f=n,o=u(arguments),s,e;return o.splice(0,3),t=t.split("."),s=t.length,e=[],e[s-1]=r,i.each(t,function(t,i){var r=f;f=this._getModule(r,t,n),this._addModuleDefinition(r,f,e[i],o)},this),f},_getModule:function(n,t,i){var u=n[t];return u||(u=new r.Module(t,i),n[t]=u,n.submodules[t]=u),u},_addModuleDefinition:function(n,t,r,u){var f,e;i.isFunction(r)?(f=r,e=!0):i.isObject(r)?(f=r.define,e=r.startWithParent):e=!0,f&&t.addDefinition(f,u),t.startWithParent=t.startWithParent&&e,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,n.addInitializer(function(n){t.startWithParent&&t.start(n)}))}}),r}(this,Backbone,_);
//@ sourceMappingURL=backbone.marionette.min.js.map